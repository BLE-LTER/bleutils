[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"T. Nguyen. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Nguyen (2022). bleutils: Utility functions BLE LTER IM team. R package version 0.1.0.","code":"@Manual{,   title = {bleutils: Utility functions for BLE LTER IM team},   author = {An T. Nguyen},   year = {2022},   note = {R package version 0.1.0}, }"},{"path":"/index.html","id":"bleutils","dir":"","previous_headings":"","what":"Utility functions for BLE LTER IM team","title":"Utility functions for BLE LTER IM team","text":"October 25th 2022","code":""},{"path":"/index.html","id":"orientation","dir":"","previous_headings":"","what":"Orientation","title":"Utility functions for BLE LTER IM team","text":"bleutils collection R functions use BLE LTER IM team.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation:","title":"Utility functions for BLE LTER IM team","text":"","code":"remotes::install_github(\"BLE-LTER/bleutils\")"},{"path":[]},{"path":"/index.html","id":"manipulating-core-program-data","dir":"","previous_headings":"Usage","what":"Manipulating Core Program data","title":"Utility functions for BLE LTER IM team","text":"First, load example data. cp_data included bleutils minimal example investigators need give IM team can proceed.","code":"library(bleutils) df <- cp_data"},{"path":"/index.html","id":"adding-standard-columns-to-cp-data","dir":"","previous_headings":"Usage > Manipulating Core Program data","what":"Adding standard columns to CP data","title":"Utility functions for BLE LTER IM team","text":"add_cp_cols add columns node, lagoon, lat/lon, etc… data.frame, provided column station codes, e.g. “EWLD1”. Use quickly add required columns dataset. Note function relies stations data.frame packaged bleutils. canon copy kept Box. check bleutils latest version, use update_cp_stations point Box local machine. Box version differs bleutils , update package version. happens, make sure push change GitHub re-install bleutils wherever used.","code":"add_cp_cols(df, station_code_col = \"station\") update_cp_stations(source_file = \"path_goes_here\")"},{"path":"/index.html","id":"inferring-sampling-season-based-on-dates","dir":"","previous_headings":"Usage > Manipulating Core Program data","what":"Inferring sampling season based on dates","title":"Utility functions for BLE LTER IM team","text":"infer_season outputs vector categorical season values (ice/break /open water) vector date values (column data.frame).","code":"df$season <- infer_season(df, date_col = \"date_collected\")"},{"path":"/index.html","id":"order-data-columns","dir":"","previous_headings":"Usage > Manipulating Core Program data","what":"Order data columns","title":"Utility functions for BLE LTER IM team","text":"Order columns according standard BLE order. Check function documentation exact order depending data type (water/sediment/mooring). Columns need named exactly specified, make sure ’s done running function.","code":"order_cp_cols(df, type = \"water\")"},{"path":"/index.html","id":"sort-data-rows","dir":"","previous_headings":"Usage > Manipulating Core Program data","what":"Sort data rows","title":"Utility functions for BLE LTER IM team","text":"Order data rows according standard BLE order. Check function documentation exact order depending data type (water/sediment/mooring). Columns need named exactly specified, make sure ’s done running function.","code":"sort_cp_rows(df, type = \"water\")"},{"path":[]},{"path":"/index.html","id":"initializing-dataset","dir":"","previous_headings":"Usage > Other useful IM tasks","what":"Initializing dataset","title":"Utility functions for BLE LTER IM team","text":"init_datapkg creates directory structure templated R script new dataset. warn dataset ID already exists (based directory names base_path) messages next available numeric ID.","code":"init_datapkg(base_path = getwd(),              dataset_id = 9999,              dataset_nickname = \"test\")"},{"path":"/index.html","id":"initializing-a-data-processing-script","dir":"","previous_headings":"Usage > Other useful IM tasks","what":"Initializing a data processing script","title":"Utility functions for BLE LTER IM team","text":"init_script creates R script populates template. new dataset, init_datapkg calls init_script(type = \"init\") ’s action needed R script. updating existing datasets, use argument type = \"update\". main difference update script also code pull latest version dataset EDI’s production server, new data can appended . templates live inst/ updates needed.","code":"init_script(dataset_id = 9999,             workdir = file.path(getwd(), \"9999_test\", \"EML_generation\", \"2022\"),              type = \"update\")"},{"path":"/index.html","id":"appending-units-to-metadata-attribute-names","dir":"","previous_headings":"Usage > Other useful IM tasks","what":"Appending units to metadata attribute names","title":"Utility functions for BLE LTER IM team","text":"decided append abbreviated units end attribute names (see BLE handbook). facilitate , wrap calls MetaEgress::get_meta() bleutils::append_units. saves us actually units attribute names metabase, makes updates easier.","code":"metadata <-"},{"path":"/index.html","id":"renaming-attributes-to-match-metadata","dir":"","previous_headings":"Usage > Other useful IM tasks","what":"Renaming attributes to match metadata","title":"Utility functions for BLE LTER IM team","text":"Quick convenience function rename columns data.frame ’s metadata. usual assumptions apply: many columns data metadata, ordered way.","code":"# These following lines are commented out because they will not work without being able to connect to an instance of metabase # metadata <- MetaEgress::get_metadata(dbname = \"ble_metabase\",                                         dataset_ids = 13,                                         user = \"insert_or_enter_in_console\",                                         password = \"insert_or_enter_in_console\") # df <- rename_attributes(metadata,                           dataset_id = 13,                           entity = 1,                           x = df,                           append_units = TRUE)"},{"path":"/index.html","id":"exporting-personnel-from-metabase-to-csv","dir":"","previous_headings":"Usage > Other useful IM tasks","what":"Exporting personnel from metabase to CSV","title":"Utility functions for BLE LTER IM team","text":"BLE’s Core Program datasets include CSV personnel years data involved . information stored metabase specific BLE. MetaEgress::get_meta() doesn’t query information, use:","code":"# These following lines are commented out because they will not work without being able to connect to an instance of metabase  # export_personnel(dataset_ids = 13,                    file_name = \"BLE_LTER_chlorophyll_personnel.csv\")"},{"path":"/reference/add_cp_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Add columns relevant to BLE LTER Core Program\r\nAdd columns: station name, lat/lon, habitat type, given BLE LTER Core Program station code — add_cp_cols","title":"Add columns relevant to BLE LTER Core Program\r\nAdd columns: station name, lat/lon, habitat type, given BLE LTER Core Program station code — add_cp_cols","text":"Add columns relevant BLE LTER Core Program Add columns: station name, lat/lon, habitat type, given BLE LTER Core Program station code","code":""},{"path":"/reference/add_cp_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add columns relevant to BLE LTER Core Program\r\nAdd columns: station name, lat/lon, habitat type, given BLE LTER Core Program station code — add_cp_cols","text":"","code":"add_cp_cols(df, station_code_col = \"station\")"},{"path":"/reference/add_cp_cols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add columns relevant to BLE LTER Core Program\r\nAdd columns: station name, lat/lon, habitat type, given BLE LTER Core Program station code — add_cp_cols","text":"df (data.frame) Data frame question CP data station_code_col (character) Name column containing BLE LTER station codes supplied df. Defaults \"station\".","code":""},{"path":"/reference/add_cp_cols.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add columns relevant to BLE LTER Core Program\r\nAdd columns: station name, lat/lon, habitat type, given BLE LTER Core Program station code — add_cp_cols","text":"Data new station name, lat/lon, habitat type columns appended","code":""},{"path":"/reference/append_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Append units to column names — append_units","title":"Append units to column names — append_units","text":"Append abbreviated units attribute names","code":""},{"path":"/reference/append_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Append units to column names — append_units","text":"","code":"append_units(meta_list, skip = NULL)"},{"path":"/reference/append_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Append units to column names — append_units","text":"meta_list (list) metadata list structure returned MetaEgress::get_meta() skip (numeric) Vector entity numbers exclude appending units. E.g. raw data entities might need archived -.","code":""},{"path":"/reference/cp_data.html","id":null,"dir":"Reference","previous_headings":"","what":"example of BLE LTER Core Program data with various formatting issues. use to test functions in this package — cp_data","title":"example of BLE LTER Core Program data with various formatting issues. use to test functions in this package — cp_data","text":"example BLE LTER Core Program data various formatting issues. use test functions package","code":""},{"path":"/reference/cp_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"example of BLE LTER Core Program data with various formatting issues. use to test functions in this package — cp_data","text":"","code":"cp_data"},{"path":"/reference/cp_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"example of BLE LTER Core Program data with various formatting issues. use to test functions in this package — cp_data","text":"object class data.frame 104 rows 7 columns.","code":""},{"path":"/reference/export_personnel.html","id":null,"dir":"Reference","previous_headings":"","what":"Connect to metabase and query for personnel list. — export_personnel","title":"Connect to metabase and query for personnel list. — export_personnel","text":"Connect instance LTER-core-metabase query personnel list years associated (BLE LTER Core Program data package requirement).","code":""},{"path":"/reference/export_personnel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Connect to metabase and query for personnel list. — export_personnel","text":"","code":"export_personnel(   dbname = \"ble_metabase\",   schema = \"pkg_mgmt\",   dataset_ids,   host = \"localhost\",   port = 5432,   user = NULL,   password = NULL,   write_to_file = TRUE,   file_dir = getwd(),   file_name = NULL )"},{"path":"/reference/export_personnel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Connect to metabase and query for personnel list. — export_personnel","text":"dbname (character) name database. Defaults \"ble_metabase\". schema (character) name schema containing views. Defaults 'pkg_mgmt'. dataset_ids (numeric) Number numeric vector dataset IDs query. host (character) host name IP address. Defaults 'localhost'. port (numeric) port number. Defaults 5432. user (character) (optional) username use connecting database. Use save time. supplied, R console prompt enter username. password (character) (optional) password user. Use save time. supplied, R console prompt enter password. write_to_file (logical) Whether write file. Defaults TRUE. file_dir (character) Full path directory write file . Defaults current working directory. file_name (character) File name, default \"BLE_LTER_(dataset_ids)_personnel.csv\" specified.","code":""},{"path":"/reference/export_personnel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Connect to metabase and query for personnel list. — export_personnel","text":"(data.frame) data frame personnel associated specified dataset IDs queried metabase.","code":""},{"path":"/reference/infer_season.html","id":null,"dir":"Reference","previous_headings":"","what":"Infer BLE LTER field campaign season from date or date-times — infer_season","title":"Infer BLE LTER field campaign season from date or date-times — infer_season","text":"Infer BLE LTER field campaign season date date-times: dates May earlier ice, June 15th July break , 16th July later open water. use mooring data.","code":""},{"path":"/reference/infer_season.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Infer BLE LTER field campaign season from date or date-times — infer_season","text":"","code":"infer_season(data, date_col = \"date_time\")"},{"path":"/reference/infer_season.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Infer BLE LTER field campaign season from date or date-times — infer_season","text":"data data.frame date.frame date date_col character Name column dates date-times. Please convert column Date format first (just strings containing dates).","code":""},{"path":"/reference/infer_season.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Infer BLE LTER field campaign season from date or date-times — infer_season","text":"vector strings: field campaign seasons order dates date-times supplied.","code":""},{"path":"/reference/init_datapkg.html","id":null,"dir":"Reference","previous_headings":"","what":"Create folder structure for a new BLE LTER data package ID\r\nCreate these following items: folder structure, R project, reusable R script from template — init_datapkg","title":"Create folder structure for a new BLE LTER data package ID\r\nCreate these following items: folder structure, R project, reusable R script from template — init_datapkg","text":"Create folder structure new BLE LTER data package ID Create following items: folder structure, R project, reusable R script template","code":""},{"path":"/reference/init_datapkg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create folder structure for a new BLE LTER data package ID\r\nCreate these following items: folder structure, R project, reusable R script from template — init_datapkg","text":"","code":"init_datapkg(   dataset_id,   dataset_nickname,   base_path = \"K:/Data\",   data_year = NULL )"},{"path":"/reference/init_datapkg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create folder structure for a new BLE LTER data package ID\r\nCreate these following items: folder structure, R project, reusable R script from template — init_datapkg","text":"dataset_id (numeric) Dataset ID dataset_nickname (character) base_path (character) Full file path parent directory initiate . Defaults \"K:/Data\", shared BLE network drive, mapped K drive 's PC. data_year (numeric) year data generated script process. E.g. may working 2021 data 2022. Defaults current calendar year specified.","code":""},{"path":"/reference/init_datapkg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create folder structure for a new BLE LTER data package ID\r\nCreate these following items: folder structure, R project, reusable R script from template — init_datapkg","text":"Nothing R, new folder structure R script template","code":""},{"path":"/reference/init_script.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate R processing script from template — init_script","title":"Generate R processing script from template — init_script","text":"Generate R processing script template","code":""},{"path":"/reference/init_script.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate R processing script from template — init_script","text":"","code":"init_script(dataset_id, file_dir = NULL, type = \"update\", data_year = NULL)"},{"path":"/reference/init_script.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate R processing script from template — init_script","text":"dataset_id (numeric) Dataset ID generated script process file_dir (character) Directory save script . Defaults respective dataset's directory 's machine specified. type (character) either \"init\" \"update\" new returning data packages respectively. Defaults \"update\". difference contents script. Returning data packages get script section data last revision EDI's production downloaded used basis appending new data onto. data_year (numeric) year data generated script process. E.g. may working 2021 data 2022. Defaults current calendar year specified.","code":""},{"path":"/reference/order_cp_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Order Core Program data columns — order_cp_cols","title":"Order Core Program data columns — order_cp_cols","text":"Order Core Program data columns particular order: node, lagoon, station, season, date_time, water_column_position, (insert data columns), station_name, latitude, longitude, habitat_type, station_sampling_priority.","code":""},{"path":"/reference/order_cp_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Order Core Program data columns — order_cp_cols","text":"","code":"order_cp_cols(data, type)"},{"path":"/reference/order_cp_cols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Order Core Program data columns — order_cp_cols","text":"data (data.frame) data.frame containing Core Program data. Columns names need named according standard CP column names. Use bleutils::reaname_attributes work. type (character) Type CP data. Choose \"water\", \"sediment\", \"mooring\". affects columns present.","code":""},{"path":"/reference/rename_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename data columns according to metadata. — rename_attributes","title":"Rename data columns according to metadata. — rename_attributes","text":"Rename data columns according metadata.","code":""},{"path":"/reference/rename_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename data columns according to metadata. — rename_attributes","text":"","code":"rename_attributes(   meta_list,   dataset_id,   entity,   file_dir = getwd(),   file_name = \"\",   x,   append_units = T )"},{"path":"/reference/rename_attributes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename data columns according to metadata. — rename_attributes","text":"meta_list (character) list dataframes containing metadata returned get_meta. dataset_id (numeric) dataset ID. entity (numeric) entity number. file_dir (character) Path directory containing flat files (data files). Defaults current R working directory. file_name (character) File name x R object. specified, skip looking entity file altogether. append_units (logical) TRUE, append abbreviated units (see vw_custom_units) column names specified metabase. Defaults TRUE.","code":""},{"path":"/reference/rename_attributes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rename data columns according to metadata. — rename_attributes","text":"data table entity renamed columns.","code":""},{"path":"/reference/sort_cp_rows.html","id":null,"dir":"Reference","previous_headings":"","what":"Sort Core Program data — sort_cp_rows","title":"Sort Core Program data — sort_cp_rows","text":"Sort Core Program data preferred sort order: node, lagoon, station, date/date_time, water_column_position applicable","code":""},{"path":"/reference/sort_cp_rows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sort Core Program data — sort_cp_rows","text":"","code":"sort_cp_rows(data, type)"},{"path":"/reference/sort_cp_rows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sort Core Program data — sort_cp_rows","text":"data (data.frame) data.frame containing Core Program data. Columns already need ordered particular CP order. Use bleutils::order_cp_cols . Columns names also need named according standard CP column names. Use bleutils::reaname_attributes . type (character) Type CP data. Choose \"water\", \"sediment\", \"mooring\". affects columns sort data.","code":""},{"path":"/reference/sort_cp_rows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sort Core Program data — sort_cp_rows","text":"(data.frame) data ordered.","code":""},{"path":"/reference/stations.html","id":null,"dir":"Reference","previous_headings":"","what":"BLE LTER Core Program, information on core sampling stations — stations","title":"BLE LTER Core Program, information on core sampling stations — stations","text":"BLE LTER Core Program, information core sampling stations","code":""},{"path":"/reference/stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BLE LTER Core Program, information on core sampling stations — stations","text":"","code":"stations"},{"path":"/reference/stations.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"BLE LTER Core Program, information on core sampling stations — stations","text":"object class tbl_df (inherits tbl, data.frame) 40 rows 8 columns.","code":""},{"path":"/reference/update_cp_stations.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare the station information to ","title":"Compare the station information to ","text":"Compare station information \"canonical\" source Box update needed. Meant run occassionally 's PC within bleutils Rproject update version station info package uses append new columns, example.","code":""},{"path":"/reference/update_cp_stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare the station information to ","text":"","code":"update_cp_stations(       source_file = \"C:/Users/atn893/Documents/Box Sync/Beaufort LTER/Core Program/BLE_LTER_CP_Stations.xlsx\",   sheet = \"lookup\" )"},{"path":"/reference/update_cp_stations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare the station information to ","text":"source_file (character) Full path canonical file used store station codes, names, lat/lons, habitat type. Defaults \"C:/Users/atn893/Documents/Box Sync/Beaufort LTER/Core Program/BLE_LTER_CP_Stations.xlsx\" works 's PC. sheet (character) Name Excel sheet containing lookup info. Defaults \"lookup\".","code":""}]
